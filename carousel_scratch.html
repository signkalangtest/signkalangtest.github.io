<!DOCTYPE html>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html lang="en">
  <head>
      <link rel="stylesheet" href="{{url_for('static', filename='css/tasstyle.css')}}">
      <title>Tell a Story</title>
  </head>

<body>
  <div class="container">
    <div class="main-section">
       <div class="videodiv">
            <!-- Slideshow container -->
          <div class="slideshow-container">
            <div class="carousel" id="story1">
              <!-- carousel content goes here -->
              <div class="slides fade">
                <img src="{{url_for('static', filename='images/animations/breakfast/Illustrations 1.gif')}}" style="width:100%">
              </div>
              
              <div class="slides fade">
                <img src="{{url_for('static', filename='images/animations/breakfast/Illustrations 2.gif')}}" style="width:100%">
              </div>
              
              <div class="slides fade">
                <img src="{{url_for('static', filename='images/animations/breakfast/Illustrations 3.gif')}}" style="width:100%">
              </div>
              
              <!-- Next and previous buttons -->
              <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
              <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>

            <div class="carousel" id="story2">
              <!-- carousel content goes here -->
              <div class="slides fade">
                <img src="{{url_for('static', filename='images/rainy.png')}}" style="width:100%">
              </div>
              
              <div class="slides fade">
                <img src="{{url_for('static', filename='images/cloudy.png')}}" style="width:100%">
              </div>
              
              <div class="slides fade">
                <img src="{{url_for('static', filename='images/sunny.png')}}" style="width:100%">
              </div>
              
              <!-- Next and previous buttons -->
              <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
              <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>

            <div class="carousel" id="story3">
              <!-- carousel content goes here -->
            </div>
          </div>
          <br>

          <!-- The dots/circles -->
          <div style="text-align:center">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
          </div>
        </div>

        <div class="translatediv">
        </div>      
    </div>

    <div class="side-section">
        <div class="storiesdiv">
          <!--Changing stories-->
            <button class="btnstory" data-target="story1" > 
              <img src = "{{url_for('static', filename='images/bfast.png')}}">
            </button>

            <button class="btnstory" data-target="story2">
              <img src = "{{url_for('static', filename='images/body.png')}}">
            </button>

            <button class="btnstory" data-target = "story3">
              <img src = "{{url_for('static', filename='images/clothes.png')}}">
            </button>
        </div>

        <div class="cameradiv">
        </div>

        <div class="backtohomebtn">
            <a href="home.html">BACK TO HOME</a>
        </div>
    </div>
  <!-- </div> -->
</div>

<script>
    let slideIndex = 1;
    showSlides(slideIndex);
    
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }
    
    function currentSlide(n) {
      showSlides(slideIndex = n);
    }
    
    function showSlides(n) {
      let i;
      let slides = document.getElementsByClassName("slides");
      let dots = document.getElementsByClassName("dot");
      if (n > slides.length) {slideIndex = 1}    
      if (n < 1) {slideIndex = slides.length}
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";  
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
      }
      slides[slideIndex-1].style.display = "block";  
      dots[slideIndex-1].className += " active";
    }

    // Get all the carousel buttons
    const storybtn = document.querySelectorAll('.btnstory');

    // Loop through each button and add a click event listener
    storybtn.forEach(button => {
      button.addEventListener('click', () => {
        // Get the ID of the target carousel
        const target = button.getAttribute('data-target');


        // Hide all the carousels
        const carousels = document.querySelectorAll('.carousel');
        carousels.forEach(carousel => {
          carousel.style.display = 'none';
        });

        // Show the target carousel
        const targetCarousel = document.getElementById(target);
        targetCarousel.style.display = 'block';
      });
    });

</script>        

</body>
</html>